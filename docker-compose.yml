services:
  voice-bridge:
    build: .
    ports:
      - "3030:3030"
    environment:
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - OPENAI_REALTIME_MODEL=${OPENAI_REALTIME_MODEL:-gpt-4o-mini-realtime-preview}
      - OPENAI_VOICE=${OPENAI_VOICE:-alloy}
      - PORT=3030
      - HOST=0.0.0.0
      - BRIDGE_API_TOKEN=${BRIDGE_API_TOKEN}
      - RESPONSE_TIMEOUT_MS=${RESPONSE_TIMEOUT_MS:-30000}
      - SESSION_MAX_IDLE_MS=${SESSION_MAX_IDLE_MS:-300000}
      - MAX_SESSIONS=${MAX_SESSIONS:-0}
      - DEFAULT_INSTRUCTIONS=${DEFAULT_INSTRUCTIONS:-Eres un asistente amable y util.}
      - LOG_LEVEL=${LOG_LEVEL:-info}
    restart: unless-stopped
